<section>
  <div class="max-w-full overflow-y-auto">
    @for (p of places; track p.id) {
    <div
      class="mt-4 flex items-center gap-4 hover:bg-gray-50 rounded-xl cursor-pointer py-2 px-4 dark:hover:bg-gray-800"
      (click)="editPlace(p)">
      <img [src]="p.image || 'favicon.png'" class="size-14 rounded-full object-fit">
      <div class="flex flex-col gap-1 truncate">
        <h1 class="tracking-tight truncate dark:text-surface-300"
          [ngClass]="{ 'text-red-500 font-semibold invalid-content': !isPlaceValid(p) }">{{ p.name }}
        </h1>
        <span class="text-xs text-gray-500 truncate">{{ p.place }}</span>

        <div class="flex gap-0.5">
          @if (p.allowdog) {
          <span
            class="bg-green-100 text-green-800 text-sm me-2 px-2.5 py-0.5 rounded flex items-center dark:bg-green-100/85">üê∂</span>
          } @else {
          <span
            class="bg-red-100 text-red-800 text-sm me-2 px-2.5 py-0.5 rounded flex items-center dark:bg-red-100/85">üê∂</span>
          }

          @if (p.visited) {
          <span
            class="bg-green-100 text-green-800 text-sm me-2 px-2.5 py-0.5 rounded flex items-center dark:bg-green-100/85"><i
              class="pi pi-eye text-xs"></i></span>
          } @else {
          <span
            class="bg-red-100 text-red-800 text-sm me-2 px-2.5 py-0.5 rounded flex items-center dark:bg-red-100/85"><i
              class="pi pi-eye-slash text-xs"></i></span>
          }

          @if (p.category_id) {
          <span
            class="bg-blue-100 text-blue-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded flex gap-2 items-center truncate dark:bg-blue-100/85"><i
              class="pi pi-box text-xs"></i>{{ categoryIDToCategory(p.category_id).name }}</span>
          }
        </div>
      </div>
    </div>
    }
  </div>

  <div class="mt-4 flex justify-between">
    <p-button text (click)="closeDialog()" label="Cancel" severity="danger" />
    <p-button text (click)="confirmDialog()" label="Create" />
  </div>
</section>